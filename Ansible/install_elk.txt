 1 ---
 2 - name: Configure Elk VM with Docker
 3   hosts: elk
 4   remote_user: ansible
 5   become: true
 6   tasks:
 7     # Use apt module
 8     - name: Install docker.io
 9       apt:
10         update_cache: yes
11         force_apt_get: yes
12         name: docker.io
13         state: present
14
15       # Use apt module
16     - name: Install python3-pip
17       apt:
18         force_apt_get: yes
19         name: python3-pip
20         state: present
21
22       # Use pip module (It will default to pip3)
23     - name: Install Docker module
24       pip:
25         name: docker
26         state: present